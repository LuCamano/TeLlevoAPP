<ion-split-pane contentId="viajes-page" when="md">

  <ion-menu side="end" contentId="viajes-page" menuId="viajes-menu">
    <ion-header>
      <ion-toolbar color="secondary">
        <ion-title>Filtro</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-accordion-group>
        <ion-accordion>
          <ion-item slot="header">
            <ion-label>Destino</ion-label>
          </ion-item>
          <div slot="content" >
            <ion-item *ngFor="let destino of filtrarDato(viajes, 'destino')">
            <ion-checkbox>{{destino.direccion.split(', ')[1]}}</ion-checkbox>
            </ion-item>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-content>
  </ion-menu>
  <div id="viajes-page">
    <!-- encabezado -->
    <app-encabezado titulo="viajes"></app-encabezado>
    <!-- Contenido de la pagina -->
    <ion-content class="ion-padding">
      
      <ion-row>
        <ion-title>Viajes encontrados:</ion-title>
        <ion-button fill="clear" (click)="mostrarFiltro()" class="ion-hide-md-up">Filtro</ion-button>
      </ion-row>
      <ion-text *ngIf="viajes.length === 0" class="ion-padding">
        <h4> No hay viajes disponibles</h4>
      </ion-text>
      <ion-card *ngFor="let viaje of viajes">
        <ion-card-header>
          <ion-card-title>Destino: {{viaje.destino.direccion.split(', ')[1]}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-list>
            <ion-item>
              <ion-label>Conductor: {{viaje.conductor}}</ion-label>
            </ion-item>
            <ion-item>
              <ion-label>Fecha: {{viaje.fecha | date: 'dd/MM/yyyy'}}</ion-label>
            </ion-item>
            <ion-item>
              <ion-label>Hora: {{viaje.fecha | date: 'HH:mm'}}</ion-label>
            </ion-item>
            <ion-item>
              <ion-label>Costo: {{viaje.precio | currency:'CLP':'symbol-narrow'}}</ion-label>
            </ion-item>
            <ion-item>
              <ion-label>Asientos disponibles: {{viaje.pasajeros ? viaje.asientos - viaje.pasajeros.length : viaje.asientos}}</ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-button (click)="solitcitarViaje(viaje)">Solicitar viaje</ion-button>
            </ion-item>
          </ion-list>
        </ion-card-content>
      </ion-card>
    </ion-content>
    <!-- Fin del contenido -->
  </div>
</ion-split-pane>
